<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="recipe_details.css">
  <link rel="stylesheet" href="styles.css">

  <script src="https://kit.fontawesome.com/99fa6e3e66.js" crossorigin="anonymous"></script>
  <title>Recipe Details</title>


  <style>
    /* Add styling for the popup */
    .share-popup {
      display: none;
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      border: 1px solid #ccc;
      padding: 20px;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }

    .share-icons {
      display: flex;
      justify-content: space-around;
      align-items: center;
    }

    .share-icons i {
      font-size: 24px;
      cursor: pointer;
    }
  </style>


</head>
<body>
<script>
   document.addEventListener("DOMContentLoaded", function () {
   

   const recipe = JSON.parse(localStorage.getItem('recipe-details'));
   
   const recipeTitleElement = document.querySelector(".recipe-title");
   const cookingTimeElement = document.querySelector(".cooking-time");
   const ingredientsElement = document.querySelector(".ingredients");
   const instructionsElement = document.querySelector(".instructions");
   const recipeDetailsImage = document.querySelector(".recipe-details-image");
   
 
   if (recipe ) {
     recipeDetailsImage.src = recipe.image_url;
 
     // Set the recipe title
     recipeTitleElement.textContent = recipe.title.toUpperCase();
 
     // Set the cooking time
     cookingTimeElement.textContent = ` ${recipe.cooking_time} mins`;
 
     // Set the ingredients
     ingredientsElement.textContent = recipe.ingredients;
 
     // Set the instructions
     instructionsElement.textContent = recipe.instructions;
   }
 
      
});

 
  // Function to handle the share button click
  function showSharePopup() {
    const popup = document.getElementById("sharePopup");
    popup.style.display = "block";
  }

  // Function to hide the share popup
  function closeSharePopup() {
    const popup = document.getElementById("sharePopup");
    popup.style.display = "none";
  }

  // Function to copy link to clipboard
  function copyLinkToClipboard() {
    const copyText = document.createElement("textarea");
    copyText.value = window.location.href;
    document.body.appendChild(copyText);
    copyText.select();
    document.execCommand("copy");
    document.body.removeChild(copyText);
    alert("Link copied to clipboard!");
    closeSharePopup(); // Close the popup after copying the link
  }

  // Functions for sharing on social media
  function shareOnWhatsApp() {
    // Add logic to share on WhatsApp
    alert("Share on WhatsApp clicked!");
  }

  function shareOnFacebook() {
    // Add logic to share on Facebook
    alert("Share on Facebook clicked!");
  }

  function shareOnInstagram() {
    // Add logic to share on Instagram
    alert("Share on Instagram clicked!");
  }
</script>

  
<header>
  <div class="navbar">
      <a class="home-icon"  href="home.html"><i class="fas fa-home"></i></a>
      <div class="logo">RecipeShare</div>
      <div class="nav-links">
          <a href="about-us.html">About Us</a>
          <a href="login.html"><button onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button></a>
      </div>
  </div>
</header>

  <div class="container">
      <aside class="sidebar">
          <a class="sidebar-item"  href="saved.html"><i class="fas fa-bookmark"></i> Saved</a>
          <a class="sidebar-item"  href="my-recipes.html"><i class="fas fa-book"></i> My Recipes</a>
          <a class="sidebar-item"  href="favourites.html"><i class="fas fa-heart"></i> Favorites</a>
          <a class="sidebar-item"  href="upload-recipe.html"><i class="fas fa-cloud-upload-alt"></i> Upload</a>
      </aside>

      <main>
        
        
         
          <h2 class="recipe-title"></h2>  
  <div class="recipe-details-container">
    <div class="recipe-details-div">
      <div class="recipe-image-container">
      
    <div class="recipe-image">
      <img class="recipe-details-image" alt="Recipe Image">
    </div>
    <div class="icons-container">
      <div class="btn iconbtn" ><i onclick="showSharePopup()" class="fa fa-share"></i><br>Share</div>
      <div class="btn iconbtn" ><i class="fa fa-comment"></i><br>Comment</div>
      <div class="btn iconbtn" ><i id="favoriteIcon" onclick="toggleFavorite()" class="far fa-heart"></i><br>Favourite</div>
      <div class="btn iconbtn" ><i id="saveIcon" onclick="toggleSave()" class="far fa-bookmark"></i><br>Save</div>
     

    </div>
      </div>
      <div class="recipe-info">
      
      <div class="details-container">
        <div >
          <h3>Cooking Time</h3>
          <p class="cooking-time"></p>
        </div>
        <div >
          <h3>Ingredients</h3>
            <p class="ingredients"></p>
        </div>
        <div >
          <h3>Instructions</h3>
          <p class="instructions"></p>
        </div>
      </div>
      </div>
    </div>

    <div class="comment-container">
      <div class="comments">
        <h2>Comments</h2>
        <div class="comment-form">
          <textarea id="user-comment" placeholder="Write your review"></textarea>
          <button onclick="submitComment()">Submit</button>
        </div>
          <!-- Comments will be dynamically added here -->
          <div class="comment-list"></div>
        </div>
      </div>
    </div>
  </div>
  
      </main>
      
  </div>

  <div id="sharePopup" class="share-popup">
    <span onclick="closeSharePopup()" style="cursor: pointer; float: right; font-size: 20px; margin-bottom: 10px;">&times;</span>
    <h2>Share Recipe</h2>
    <div class="share-icons">
      <i class="fab fa-whatsapp" onclick="shareOnWhatsApp()"></i>
      <i class="fab fa-facebook" onclick="shareOnFacebook()"></i>
      <i class="fab fa-instagram" onclick="shareOnInstagram()"></i>
      <i class="fas fa-copy" onclick="copyLinkToClipboard()"></i>
    </div>
  </div>

  <script src="recipe_details.js"></script>
</body>
</html>
